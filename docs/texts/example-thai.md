# คู่มือการใช้งาน RAG Chatbot

## ภาพรวม

RAG Chatbot เป็นระบบแชทบอทที่ใช้ปัญญาประดิษฐ์ (AI) ในการตอบคำถามจากเอกสารที่คุณมี ระบบนี้สามารถทำงานกับเอกสารหลายรูปแบบ ได้แก่:

- ไฟล์ PDF
- ไฟล์ข้อความและ Markdown
- เนื้อหาจากเว็บไซต์

## วิธีการทำงาน

### 1. การโหลดเอกสาร
ระบบจะอ่านเอกสารจากโฟลเดอร์ที่กำหนดไว้ และแปลงเนื้อหาให้อยู่ในรูปแบบที่ AI สามารถเข้าใจได้

### 2. การสร้าง Vector Embeddings
เนื้อหาจากเอกสารจะถูกแปลงเป็นตัวเลขที่เรียกว่า "embeddings" ซึ่งช่วยให้ AI สามารถเข้าใจความหมายของข้อความได้

### 3. การจัดเก็บในฐานข้อมูล
Embeddings จะถูกเก็บไว้ใน vector store เพื่อให้สามารถค้นหาได้รวดเร็ว

### 4. การตอบคำถาม
เมื่อคุณถามคำถาม ระบบจะ:
- ค้นหาเอกสารที่เกี่ยวข้อง
- นำเอกสารที่พบมาให้ Claude AI อ่าน
- สร้างคำตอบที่เหมาะสม

## การติดตั้งและใช้งาน

### ขั้นตอนที่ 1: ติดตั้ง
```bash
npm install
```

### ขั้นตอนที่ 2: ตั้งค่า API Key
สร้างไฟล์ `.env` และใส่ API key ของ Anthropic:
```
ANTHROPIC_API_KEY=your_api_key_here
```

### ขั้นตอนที่ 3: เพิ่มเอกสาร
วางเอกสารของคุณในโฟลเดอร์:
- `docs/pdfs/` สำหรับไฟล์ PDF
- `docs/texts/` สำหรับไฟล์ข้อความ

### ขั้นตอนที่ 4: โหลดเอกสาร
```bash
npm run ingest
```

### ขั้นตอนที่ 5: เริ่มแชท
```bash
npm run chat
```

## ตัวอย่างการใช้งาน

### ตัวอย่างคำถาม

**คำถามทั่วไป:**
- "เอกสารนี้พูดถึงเรื่องอะไร?"
- "สรุปประเด็นหลักให้หน่อย"
- "มีข้อมูลเกี่ยวกับ [หัวข้อ] ไหม?"

**คำถามเฉพาะเจาะจง:**
- "RAG ย่อมาจากอะไร?"
- "ข้อดีของ RAG คืออะไรบ้าง?"
- "วิธีการทำงานของ RAG เป็นอย่างไร?"

### คำสั่งพิเศษ

- `exit` หรือ `quit` - ออกจากโปรแกรม
- `clear` - ล้างประวัติการสนทนา

## คุณสมบัติเด่น

### ความแม่นยำสูง
- ตอบคำถามโดยอิงจากเอกสารจริง
- ลดการ "หลอน" (hallucination) ของ AI
- แสดงแหล่งที่มาของคำตอบ

### ใช้งานง่าย
- CLI ที่เรียบง่าย
- รองรับทั้งภาษาไทยและภาษาอังกฤษ
- จดจำบริบทของการสนทนา

### ยืดหยุ่น
- รองรับหลายรูปแบบเอกสาร
- เพิ่มหรือลบเอกสารได้ง่าย
- ปรับแต่งการตั้งค่าได้

## การปรับแต่ง

### ขนาดของ Chunk
ในไฟล์ `src/config.ts`:
```typescript
chunkSize: 1000,        // ขนาดของแต่ละส่วน
chunkOverlap: 200,      // ส่วนที่ซ้อนทับกัน
```

### จำนวนเอกสารที่ค้นหา
```typescript
retrievalK: 4,  // จำนวนเอกสารที่จะนำมาใช้ตอบคำถาม
```

### รุ่นของ Claude
ในไฟล์ `.env`:
```
CLAUDE_MODEL=claude-3-5-sonnet-20241022
```

## เคล็ดลับการใช้งาน

### เพื่อคำตอบที่ดีขึ้น:
1. **ถามคำถามที่ชัดเจน** - หลีกเลี่ยงคำถามที่คลุมเครือ
2. **ให้บริบท** - บอกข้อมูลเพิ่มเติมถ้าจำเป็น
3. **แบ่งคำถามซับซ้อน** - ถามทีละขั้นตอน

### เพื่อประสิทธิภาพที่ดีขึ้น:
1. **จัดระเบียบเอกสาร** - แยกเอกสารตามหัวข้อ
2. **ใช้ชื่อไฟล์ที่สื่อความหมาย** - ง่ายต่อการอ้างอิง
3. **อัพเดต vector store** - รัน ingest ใหม่เมื่อเพิ่มเอกสาร

## การแก้ปัญหา

### ไม่พบ vector store
**วิธีแก้:** รัน `npm run ingest` ก่อนใช้งาน chatbot

### API Key ไม่ถูกต้อง
**วิธีแก้:** ตรวจสอบว่าไฟล์ `.env` มี API key ที่ถูกต้อง

### ไม่พบเอกสาร
**วิธีแก้:** ตรวจสอบว่าวางเอกสารในโฟลเดอร์ที่ถูกต้อง

### คำตอบไม่ตรงคำถาม
**วิธีแก้:**
- ลองถามคำถามใหม่ในรูปแบบอื่น
- เพิ่มจำนวน `retrievalK` ในการตั้งค่า
- ตรวจสอบว่าเอกสารมีข้อมูลที่เกี่ยวข้อง

## ข้อควรระวัง

- **ความเป็นส่วนตัว**: อย่าอัพโหลดเอกสารที่มีข้อมูลละเอียดอ่อน
- **ลิขสิทธิ์**: ตรวจสอบว่ามีสิทธิ์ใช้งานเอกสาร
- **ขนาดไฟล์**: ไฟล์ขนาดใหญ่อาจใช้เวลาในการประมวลผล
- **ต้นทุน**: การใช้ Claude API มีค่าใช้จ่าย ตรวจสอบราคาที่ Anthropic

## แหล่งข้อมูลเพิ่มเติม

- **เอกสาร Claude AI**: https://docs.anthropic.com/
- **เอกสาร LangChain**: https://js.langchain.com/
- **API Console**: https://console.anthropic.com/

## สรุป

RAG Chatbot เป็นเครื่องมือที่ทรงพลังสำหรับการสร้างแชทบอทที่อิงจากเอกสารของคุณ ด้วย Claude AI คุณจะได้คำตอบที่แม่นยำและเชื่อถือได้

หากมีคำถามหรือพบปัญหา สามารถเปิด issue ใน GitHub repository ได้เลยครับ!
